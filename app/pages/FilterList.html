<html>
<head>
  <meta charset="UTF-8">
  <title>Filter List</title>
  <script src="thirdparty/react.js"></script>
  <script src="thirdparty/JSXTransformer.js"></script>
</head>
<body>
  <div id="myDiv"></div>
  <script type="text/jsx">
  var FilterList = React.createClass({
    getInitialState: function() {
      return {
        allItems: [
          "ABC", "BCD", "CDE", "DEF",
          "EDC", "FCB", "GBA", "HGF"
        ],
        items: []
      }
    },
    componentWillMount: function() {
      this.setState({items: this.state.allItems});
    },
    refreshList: function(event) {
      var updatedList = this.state.allItems;
      updatedList = updatedList.filter(function(item) {
        return item.toLowerCase().search(
          event.target.value.toLowerCase()
        ) !== -1;
      });
      this.setState({items: updatedList});
    },
    render: function() {
      return (
        <div>
          <input type="text" placeholder="Search" onChange={this.refreshList} />
          <List items={this.state.items} />
        </div>
      );
    }
  });
  var List = React.createClass({
    render: function() {
      return (
        <ul>
        {
          this.props.items.map(function(item) {
            return <li key={item}>{item}</li>
          })
        }
        </ul>
      )
    }
  });
  React.render(<FilterList/>, document.getElementById("myDiv"));
  </script>
</body>
</html>
