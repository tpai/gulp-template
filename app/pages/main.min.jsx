var Tabs=ReactBootstrap.Tabs,Tab=ReactBootstrap.Tab,CityWeather=React.createClass({displayName:"CityWeather",getInitialState:function(){return{now:"taichung",city:["taipei","taichung","Yunlin","kaosiung"]}},handleSelect:function(e){this.setState({now:e})},render:function(){return React.createElement(Tabs,{activeKey:this.state.now,onSelect:this.handleSelect},this.state.city.map(function(e){return React.createElement(Tab,{eventKey:e,title:e.toUpperCase()},React.createElement("h1",null,e.charAt(0).toUpperCase()+e.slice(1)," City"),React.createElement(WeatherDetail,{city:e}))}))}}),WeatherDetail=React.createClass({displayName:"WeatherDetail",getInitialState:function(){return{tem:"",inf:"",data:null}},componentDidMount:function(){var e=this;$.getJSON("http://api.openweathermap.org/data/2.5/forecast/daily?q="+this.props.city+",TW&units=metric",function(t){e.setState({tem:t.list[0].temp.day,inf:t.list[0].weather[0].main+" ("+t.list[0].weather[0].description+")",data:t})})},render:function(){return null!==this.state.data?React.createElement("div",null,React.createElement("h4",null,this.state.tem,"°C / ",this.state.inf),React.createElement(DailyWeather,{data:this.state.data})):React.createElement("div",null,"Loading...")}}),Button=ReactBootstrap.Button,Modal=ReactBootstrap.Modal,Table=ReactBootstrap.Table,DailyWeather=React.createClass({displayName:"DailyWeather",getInitialState:function(){return{show:!1}},close:function(){this.setState({show:!1})},open:function(){this.setState({show:!0})},render:function(){return React.createElement("div",null,React.createElement(Button,{bsStyle:"primary",bsSize:"large",onClick:this.open},"Daily Weather"),React.createElement(Modal,{show:this.state.show,onHide:this.close},React.createElement(Modal.Header,{closeButton:!0},React.createElement(Modal.Title,null,"Daily Weather")),React.createElement(Modal.Body,null,React.createElement(Table,{striped:!0,bordered:!0,condensed:!0,hover:!0},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Date"),React.createElement("th",null,"Weather"),React.createElement("th",null,"Temperature"))),React.createElement("tbody",null,this.props.data.list.map(function(e){return React.createElement("tr",null,React.createElement("td",null,new Date(1e3*e.dt).toLocaleString()),React.createElement("td",null,e.temp.min,"°C~",e.temp.max,"°C"),React.createElement("td",null,e.weather[0].main,"(",e.weather[0].description,")"))})))),React.createElement(Modal.Footer,null,React.createElement(Button,{onClick:this.close},"Close"))))}});React.render(React.createElement(CityWeather,null),document.getElementById("cityWeather"));